(function(e,T){typeof exports=="object"&&typeof module<"u"?module.exports=T(require("vue")):typeof define=="function"&&define.amd?define(["vue"],T):(e=typeof globalThis<"u"?globalThis:e||self,e["dock-plus"]=T(e.Vue))})(this,function(e){"use strict";const T=(i,o)=>{const s=i.__vccOpts||i;for(const[d,p]of o)s[d]=p;return s},le={name:"JAdvancedQuery",props:{modelValue:{default:null,type:Object},fields:{default:()=>[],type:Array}},emits:["update:modelValue","change"],setup(i,{emit:o}){const s=e.ref(!1),d=e.ref([{label:"等于",value:"eq"},{label:"包含",value:"contains"},{label:"以..开始",value:"start"},{label:"以..结尾",value:"end"},{label:"在...中",value:"in"},{label:"不等于",value:"neq"},{label:"大于",value:"gt"},{label:"大于等于",value:"egt"},{label:"小于",value:"lt"},{label:"小于等于",value:"elt"}]),p=e.computed({get:()=>i.modelValue||{list:[],condition:"and"},set:S=>o("update:modelValue",S)}),k=e.computed(()=>p.value&&Array.isArray(p.value.list)&&p.value.list.length>0),V=()=>{o("update:modelValue",null)},m=()=>{s.value=!0},_=()=>{s.value=!1,k.value&&o("change")},u=S=>{const D=i.fields.find(f=>f.name==S);if(D){const f=w(D.type);return Object.assign(f,D.props)}else return{}},w=S=>S=="date"?{"value-format":"yyyy-MM-dd"}:S=="datetime"?{"value-format":"yyyy-MM-dd HH:mm:ss"}:{};return{dialogVisible:s,operator:d,valueData:p,isUse:k,clear:V,showDialog:m,commit:_,getFieldProps:u,getDefaultProps:w,getFieldType:S=>{const D=i.fields.find(f=>f.name==S);return D?D.type:"text"},itemFieldChange:S=>{S.value=""},addItem:()=>{const S=Object.assign({list:[],condition:"and"},p.value);S.list.push({field:"",op:"eq",value:""}),o("update:modelValue",S)},delItem:S=>{p.value.list.splice(S,1),o("update:modelValue",p.value)}}}},oe={class:"j-advanced-query"},ae={key:1},ne={class:"dialog-footer"};function re(i,o,s,d,p,k){const V=e.resolveComponent("el-button"),m=e.resolveComponent("el-tooltip"),_=e.resolveComponent("el-option"),u=e.resolveComponent("el-select"),w=e.resolveComponent("el-form-item"),N=e.resolveComponent("el-input-number"),b=e.resolveComponent("el-date-picker"),M=e.resolveComponent("el-input"),P=e.resolveComponent("el-empty"),S=e.resolveComponent("el-form"),D=e.resolveComponent("el-dialog");return e.openBlock(),e.createElementBlock("div",oe,[e.createVNode(m,{effect:"dark",disabled:!d.isUse,placement:"top-start"},{content:e.withCtx(()=>[o[5]||(o[5]=e.createTextVNode(" 已有高级查询条件生效 | ",-1)),e.createVNode(V,{type:"text",onClick:d.clear},{default:e.withCtx(()=>[...o[4]||(o[4]=[e.createTextVNode(" 清空",-1)])]),_:1},8,["onClick"])]),default:e.withCtx(()=>[e.createVNode(V,{icon:d.isUse?"el-icon-loading":"el-icon-finished",onClick:d.showDialog,size:"small",type:"primary"},{default:e.withCtx(()=>[...o[6]||(o[6]=[e.createTextVNode(" 高级查询 ",-1)])]),_:1},8,["icon","onClick"])]),_:1},8,["disabled"]),e.createVNode(D,{modelValue:d.dialogVisible,"onUpdate:modelValue":o[3]||(o[3]=f=>d.dialogVisible=f),title:"高级查询构造器",width:"700px",modal:!1},{footer:e.withCtx(()=>[e.createElementVNode("span",ne,[e.createVNode(V,{onClick:d.clear},{default:e.withCtx(()=>[...o[8]||(o[8]=[e.createTextVNode("重置",-1)])]),_:1},8,["onClick"]),e.createVNode(V,{onClick:o[2]||(o[2]=f=>d.dialogVisible=!1)},{default:e.withCtx(()=>[...o[9]||(o[9]=[e.createTextVNode("取 消",-1)])]),_:1}),e.createVNode(V,{type:"primary",onClick:d.commit},{default:e.withCtx(()=>[...o[10]||(o[10]=[e.createTextVNode("确 定",-1)])]),_:1},8,["onClick"])])]),default:e.withCtx(()=>[e.createVNode(S,{inline:!0},{default:e.withCtx(()=>[d.isUse?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.createVNode(w,{label:"条件连接关系"},{default:e.withCtx(()=>[e.createVNode(u,{modelValue:d.valueData.condition,"onUpdate:modelValue":o[0]||(o[0]=f=>d.valueData.condition=f),size:"small",style:{width:"250px"}},{default:e.withCtx(()=>[e.createVNode(_,{label:"AND（所有条件都要求匹配）",value:"and"}),e.createVNode(_,{label:"OR（条件中的任意一个匹配）",value:"or"})]),_:1},8,["modelValue"])]),_:1}),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(d.valueData.list,(f,v)=>(e.openBlock(),e.createElementBlock("div",{class:"row",key:v},[e.createVNode(w,null,{default:e.withCtx(()=>[e.createVNode(u,{modelValue:f.field,"onUpdate:modelValue":B=>f.field=B,size:"small",style:{width:"150px"},onChange:B=>d.itemFieldChange(f),clearable:"",placeholder:"请选择字段"},{default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.fields,B=>(e.openBlock(),e.createBlock(_,{key:B.name,label:B.label,value:B.name},null,8,["label","value"]))),128))]),_:1},8,["modelValue","onUpdate:modelValue","onChange"])]),_:2},1024),e.createVNode(w,null,{default:e.withCtx(()=>[e.createVNode(u,{modelValue:f.op,"onUpdate:modelValue":B=>f.op=B,size:"small",style:{width:"100px"}},{default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(d.operator,B=>(e.openBlock(),e.createBlock(_,{key:B.value,label:B.label,value:B.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e.createVNode(w,null,{default:e.withCtx(()=>[d.getFieldType(f.field)=="number"?(e.openBlock(),e.createBlock(N,e.mergeProps({key:0,ref_for:!0},d.getFieldProps(f.field),{modelValue:f.value,"onUpdate:modelValue":B=>f.value=B,size:"small",controls:!1,style:{width:"180px"}}),null,16,["modelValue","onUpdate:modelValue"])):d.getFieldType(f.field)=="date"?(e.openBlock(),e.createBlock(b,e.mergeProps({key:1,type:"date"},{ref_for:!0},d.getFieldProps(f.field),{modelValue:f.value,"onUpdate:modelValue":B=>f.value=B,size:"small",style:{width:"180px"}}),null,16,["modelValue","onUpdate:modelValue"])):d.getFieldType(f.field)=="datetime"?(e.openBlock(),e.createBlock(b,e.mergeProps({key:2,type:"datetime"},{ref_for:!0},d.getFieldProps(f.field),{modelValue:f.value,"onUpdate:modelValue":B=>f.value=B,size:"small",style:{width:"180px"}}),null,16,["modelValue","onUpdate:modelValue"])):d.getFieldType(f.field)=="select"?(e.openBlock(),e.createBlock(u,e.mergeProps({key:3,ref_for:!0},d.getFieldProps(f.field),{modelValue:f.value,"onUpdate:modelValue":B=>f.value=B,size:"small",style:{width:"180px"}}),{default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(d.getFieldProps(f.field).options,B=>(e.openBlock(),e.createBlock(_,{key:B.value,label:B.label,value:B.value},null,8,["label","value"]))),128))]),_:2},1040,["modelValue","onUpdate:modelValue"])):(e.openBlock(),e.createBlock(M,e.mergeProps({key:4,ref_for:!0},d.getFieldProps(f.field),{modelValue:f.value,"onUpdate:modelValue":B=>f.value=B,clearable:"",placeholder:"请输入值",size:"small",style:{width:"180px"}}),null,16,["modelValue","onUpdate:modelValue"]))]),_:2},1024),e.createVNode(w,null,{default:e.withCtx(()=>[e.createVNode(V,{size:"small",type:"primary",plain:"",icon:"el-icon-plus",onClick:o[1]||(o[1]=B=>d.addItem())}),e.createVNode(V,{size:"small",type:"danger",plain:"",icon:"el-icon-minus",onClick:B=>d.delItem(v)},null,8,["onClick"])]),_:2},1024)]))),128))],64)):(e.openBlock(),e.createElementBlock("div",ae,[e.createVNode(P,{style:{padding:"0"},"image-size":100,description:"未添加任何查询条件"},{default:e.withCtx(()=>[e.createVNode(V,{type:"text",onClick:d.addItem},{default:e.withCtx(()=>[...o[7]||(o[7]=[e.createTextVNode("点击添加",-1)])]),_:1},8,["onClick"])]),_:1})]))]),_:1})]),_:1},8,["modelValue"])])}const R=T(le,[["render",re]]);R.install=function(i){i.component(R.name,R)},typeof window<"u"&&window.Vue&&window.Vue.component(R.name,R);const ie={name:"JBgSelector",props:{modelValue:{default:"",type:String},disabled:{default:!1,type:Boolean}},emits:["update:modelValue"],setup(i,{emit:o}){const s=e.ref(!1),d=e.ref([{title:"魅红",name:"bg-gradual-red"},{title:"鎏金",name:"bg-gradual-orange"},{title:"翠柳",name:"bg-gradual-green"},{title:"靛青",name:"bg-gradual-blue"},{title:"惑紫",name:"bg-gradual-purple"},{title:"霞彩",name:"bg-gradual-pink"},{title:"嫣红",name:"bg-red",color:"#e54d42"},{title:"桔橙",name:"bg-orange",color:"#f37b1d"},{title:"明黄",name:"bg-yellow",color:"#fbbd08"},{title:"橄榄",name:"bg-olive",color:"#8dc63f"},{title:"森绿",name:"bg-green",color:"#39b54a"},{title:"天青",name:"bg-cyan",color:"#1cbbb4"},{title:"海蓝",name:"bg-blue",color:"#0081ff"},{title:"姹紫",name:"bg-purple",color:"#6739b6"},{title:"木槿",name:"bg-mauve",color:"#9c26b0"},{title:"桃粉",name:"bg-pink",color:"#e03997"},{title:"棕褐",name:"bg-brown",color:"#a5673f"},{title:"玄灰",name:"bg-grey",color:"#8799a3"},{title:"草灰",name:"bg-gray",color:"#aaaaaa"},{title:"墨黑",name:"bg-black",color:"#333333"},{title:"雅白",name:"bg-white",color:"#ffffff"}]),p=e.computed({get:()=>i.modelValue,set:_=>o("update:modelValue",_)}),k=e.computed(()=>{let _="未设置";for(let u=0;u<d.value.length;u++)if(d.value[u].name===p.value)return d.value[u].title;return _});return{visible:s,list:d,valueData:p,title:k,select:_=>{s.value=!1,o("update:modelValue",_.name)},clear:()=>{s.value=!1,o("update:modelValue",null)}}}},se={class:"jui-bgSelector-container"},de={class:"jui-bgSelector-container"},ce=["onClick"];function ue(i,o,s,d,p,k){const V=e.resolveComponent("el-popover");return e.openBlock(),e.createElementBlock("div",se,[e.createVNode(V,{visible:d.visible,"onUpdate:visible":o[1]||(o[1]=m=>d.visible=m),placement:"right",width:"333",disabled:s.disabled,trigger:"click"},{reference:e.withCtx(()=>[e.createElementVNode("div",{class:e.normalizeClass(["item",{disabled:s.disabled,[d.valueData]:!0}])},[e.createTextVNode(e.toDisplayString(d.title)+" ",1),o[2]||(o[2]=e.createElementVNode("i",{class:"el-icon-arrow-right"},null,-1))],2)]),default:e.withCtx(()=>[e.createElementVNode("div",de,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(d.list,(m,_)=>(e.openBlock(),e.createElementBlock("div",{key:_,class:e.normalizeClass(["item",m.name]),onClick:u=>d.select(m)},e.toDisplayString(m.title),11,ce))),128)),e.createElementVNode("div",{class:"item",onClick:o[0]||(o[0]=m=>d.clear())},[...o[3]||(o[3]=[e.createElementVNode("i",{class:"el-icon-circle-close"},null,-1)])])])]),_:1},8,["visible","disabled"])])}const I=T(ie,[["render",ue]]);I.install=function(i){i.component(I.name,I)},typeof window<"u"&&window.Vue&&window.Vue.component(I.name,I);const $=require("clipboard");if(!$)throw new Error("you should npm install `clipboard` --save at first ");const Q={bind(i,o){if(o.arg==="success")i._v_clipboard_success=o.value;else if(o.arg==="error")i._v_clipboard_error=o.value;else{const s=new $(i,{text(){return o.value},action(){return o.arg==="cut"?"cut":"copy"}});s.on("success",d=>{const p=i._v_clipboard_success;p&&p(d)}),s.on("error",d=>{const p=i._v_clipboard_error;p&&p(d)}),i._v_clipboard=s}},update(i,o){o.arg==="success"?i._v_clipboard_success=o.value:o.arg==="error"?i._v_clipboard_error=o.value:(i._v_clipboard.text=function(){return o.value},i._v_clipboard.action=function(){return o.arg==="cut"?"cut":"copy"})},unbind(i,o){o.arg==="success"?delete i._v_clipboard_success:o.arg==="error"?delete i._v_clipboard_error:(i._v_clipboard.destroy(),delete i._v_clipboard)}},Z=function(i){i.directive("Clipboard",Q)};window.Vue&&(window.clipboard=Q,Vue.use(Z)),Q.install=Z;var he=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function fe(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var ee={exports:{}};(function(i,o){var s;(function(d,p){i.exports=p()})(he,function(){function d(t){this.mode=k.MODE_8BIT_BYTE,this.data=t,this.parsedData=[];for(var l=0,a=this.data.length;l<a;l++){var n=[],r=this.data.charCodeAt(l);r>65536?(n[0]=240|(r&1835008)>>>18,n[1]=128|(r&258048)>>>12,n[2]=128|(r&4032)>>>6,n[3]=128|r&63):r>2048?(n[0]=224|(r&61440)>>>12,n[1]=128|(r&4032)>>>6,n[2]=128|r&63):r>128?(n[0]=192|(r&1984)>>>6,n[1]=128|r&63):n[0]=r,this.parsedData.push(n)}this.parsedData=Array.prototype.concat.apply([],this.parsedData),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}d.prototype={getLength:function(t){return this.parsedData.length},write:function(t){for(var l=0,a=this.parsedData.length;l<a;l++)t.put(this.parsedData[l],8)}};function p(t,l){this.typeNumber=t,this.errorCorrectLevel=l,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}p.prototype={addData:function(t){var l=new d(t);this.dataList.push(l),this.dataCache=null},isDark:function(t,l){if(t<0||this.moduleCount<=t||l<0||this.moduleCount<=l)throw new Error(t+","+l);return this.modules[t][l]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(t,l){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var a=0;a<this.moduleCount;a++){this.modules[a]=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++)this.modules[a][n]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(t,l),this.typeNumber>=7&&this.setupTypeNumber(t),this.dataCache==null&&(this.dataCache=p.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,l)},setupPositionProbePattern:function(t,l){for(var a=-1;a<=7;a++)if(!(t+a<=-1||this.moduleCount<=t+a))for(var n=-1;n<=7;n++)l+n<=-1||this.moduleCount<=l+n||(0<=a&&a<=6&&(n==0||n==6)||0<=n&&n<=6&&(a==0||a==6)||2<=a&&a<=4&&2<=n&&n<=4?this.modules[t+a][l+n]=!0:this.modules[t+a][l+n]=!1)},getBestMaskPattern:function(){for(var t=0,l=0,a=0;a<8;a++){this.makeImpl(!0,a);var n=_.getLostPoint(this);(a==0||t>n)&&(t=n,l=a)}return l},createMovieClip:function(t,l,a){var n=t.createEmptyMovieClip(l,a),r=1;this.make();for(var h=0;h<this.modules.length;h++)for(var g=h*r,c=0;c<this.modules[h].length;c++){var y=c*r,E=this.modules[h][c];E&&(n.beginFill(0,100),n.moveTo(y,g),n.lineTo(y+r,g),n.lineTo(y+r,g+r),n.lineTo(y,g+r),n.endFill())}return n},setupTimingPattern:function(){for(var t=8;t<this.moduleCount-8;t++)this.modules[t][6]==null&&(this.modules[t][6]=t%2==0);for(var l=8;l<this.moduleCount-8;l++)this.modules[6][l]==null&&(this.modules[6][l]=l%2==0)},setupPositionAdjustPattern:function(){for(var t=_.getPatternPosition(this.typeNumber),l=0;l<t.length;l++)for(var a=0;a<t.length;a++){var n=t[l],r=t[a];if(this.modules[n][r]==null)for(var h=-2;h<=2;h++)for(var g=-2;g<=2;g++)h==-2||h==2||g==-2||g==2||h==0&&g==0?this.modules[n+h][r+g]=!0:this.modules[n+h][r+g]=!1}},setupTypeNumber:function(t){for(var l=_.getBCHTypeNumber(this.typeNumber),a=0;a<18;a++){var n=!t&&(l>>a&1)==1;this.modules[Math.floor(a/3)][a%3+this.moduleCount-8-3]=n}for(var a=0;a<18;a++){var n=!t&&(l>>a&1)==1;this.modules[a%3+this.moduleCount-8-3][Math.floor(a/3)]=n}},setupTypeInfo:function(t,l){for(var a=this.errorCorrectLevel<<3|l,n=_.getBCHTypeInfo(a),r=0;r<15;r++){var h=!t&&(n>>r&1)==1;r<6?this.modules[r][8]=h:r<8?this.modules[r+1][8]=h:this.modules[this.moduleCount-15+r][8]=h}for(var r=0;r<15;r++){var h=!t&&(n>>r&1)==1;r<8?this.modules[8][this.moduleCount-r-1]=h:r<9?this.modules[8][15-r-1+1]=h:this.modules[8][15-r-1]=h}this.modules[this.moduleCount-8][8]=!t},mapData:function(t,l){for(var a=-1,n=this.moduleCount-1,r=7,h=0,g=this.moduleCount-1;g>0;g-=2)for(g==6&&g--;;){for(var c=0;c<2;c++)if(this.modules[n][g-c]==null){var y=!1;h<t.length&&(y=(t[h]>>>r&1)==1);var E=_.getMask(l,n,g-c);E&&(y=!y),this.modules[n][g-c]=y,r--,r==-1&&(h++,r=7)}if(n+=a,n<0||this.moduleCount<=n){n-=a,a=-a;break}}}},p.PAD0=236,p.PAD1=17,p.createData=function(t,l,a){for(var n=b.getRSBlocks(t,l),r=new M,h=0;h<a.length;h++){var g=a[h];r.put(g.mode,4),r.put(g.getLength(),_.getLengthInBits(g.mode,t)),g.write(r)}for(var c=0,h=0;h<n.length;h++)c+=n[h].dataCount;if(r.getLengthInBits()>c*8)throw new Error("code length overflow. ("+r.getLengthInBits()+">"+c*8+")");for(r.getLengthInBits()+4<=c*8&&r.put(0,4);r.getLengthInBits()%8!=0;)r.putBit(!1);for(;!(r.getLengthInBits()>=c*8||(r.put(p.PAD0,8),r.getLengthInBits()>=c*8));)r.put(p.PAD1,8);return p.createBytes(r,n)},p.createBytes=function(t,l){for(var a=0,n=0,r=0,h=new Array(l.length),g=new Array(l.length),c=0;c<l.length;c++){var y=l[c].dataCount,E=l[c].totalCount-y;n=Math.max(n,y),r=Math.max(r,E),h[c]=new Array(y);for(var C=0;C<h[c].length;C++)h[c][C]=255&t.buffer[C+a];a+=y;var x=_.getErrorCorrectPolynomial(E),A=new N(h[c],x.getLength()-1),U=A.mod(x);g[c]=new Array(x.getLength()-1);for(var C=0;C<g[c].length;C++){var L=C+U.getLength()-g[c].length;g[c][C]=L>=0?U.get(L):0}}for(var z=0,C=0;C<l.length;C++)z+=l[C].totalCount;for(var K=new Array(z),J=0,C=0;C<n;C++)for(var c=0;c<l.length;c++)C<h[c].length&&(K[J++]=h[c][C]);for(var C=0;C<r;C++)for(var c=0;c<l.length;c++)C<g[c].length&&(K[J++]=g[c][C]);return K};for(var k={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},V={L:1,M:0,Q:3,H:2},m={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},_={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(t){for(var l=t<<10;_.getBCHDigit(l)-_.getBCHDigit(_.G15)>=0;)l^=_.G15<<_.getBCHDigit(l)-_.getBCHDigit(_.G15);return(t<<10|l)^_.G15_MASK},getBCHTypeNumber:function(t){for(var l=t<<12;_.getBCHDigit(l)-_.getBCHDigit(_.G18)>=0;)l^=_.G18<<_.getBCHDigit(l)-_.getBCHDigit(_.G18);return t<<12|l},getBCHDigit:function(t){for(var l=0;t!=0;)l++,t>>>=1;return l},getPatternPosition:function(t){return _.PATTERN_POSITION_TABLE[t-1]},getMask:function(t,l,a){switch(t){case m.PATTERN000:return(l+a)%2==0;case m.PATTERN001:return l%2==0;case m.PATTERN010:return a%3==0;case m.PATTERN011:return(l+a)%3==0;case m.PATTERN100:return(Math.floor(l/2)+Math.floor(a/3))%2==0;case m.PATTERN101:return l*a%2+l*a%3==0;case m.PATTERN110:return(l*a%2+l*a%3)%2==0;case m.PATTERN111:return(l*a%3+(l+a)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}},getErrorCorrectPolynomial:function(t){for(var l=new N([1],0),a=0;a<t;a++)l=l.multiply(new N([1,u.gexp(a)],0));return l},getLengthInBits:function(t,l){if(1<=l&&l<10)switch(t){case k.MODE_NUMBER:return 10;case k.MODE_ALPHA_NUM:return 9;case k.MODE_8BIT_BYTE:return 8;case k.MODE_KANJI:return 8;default:throw new Error("mode:"+t)}else if(l<27)switch(t){case k.MODE_NUMBER:return 12;case k.MODE_ALPHA_NUM:return 11;case k.MODE_8BIT_BYTE:return 16;case k.MODE_KANJI:return 10;default:throw new Error("mode:"+t)}else if(l<41)switch(t){case k.MODE_NUMBER:return 14;case k.MODE_ALPHA_NUM:return 13;case k.MODE_8BIT_BYTE:return 16;case k.MODE_KANJI:return 12;default:throw new Error("mode:"+t)}else throw new Error("type:"+l)},getLostPoint:function(t){for(var l=t.getModuleCount(),a=0,n=0;n<l;n++)for(var r=0;r<l;r++){for(var h=0,g=t.isDark(n,r),c=-1;c<=1;c++)if(!(n+c<0||l<=n+c))for(var y=-1;y<=1;y++)r+y<0||l<=r+y||c==0&&y==0||g==t.isDark(n+c,r+y)&&h++;h>5&&(a+=3+h-5)}for(var n=0;n<l-1;n++)for(var r=0;r<l-1;r++){var E=0;t.isDark(n,r)&&E++,t.isDark(n+1,r)&&E++,t.isDark(n,r+1)&&E++,t.isDark(n+1,r+1)&&E++,(E==0||E==4)&&(a+=3)}for(var n=0;n<l;n++)for(var r=0;r<l-6;r++)t.isDark(n,r)&&!t.isDark(n,r+1)&&t.isDark(n,r+2)&&t.isDark(n,r+3)&&t.isDark(n,r+4)&&!t.isDark(n,r+5)&&t.isDark(n,r+6)&&(a+=40);for(var r=0;r<l;r++)for(var n=0;n<l-6;n++)t.isDark(n,r)&&!t.isDark(n+1,r)&&t.isDark(n+2,r)&&t.isDark(n+3,r)&&t.isDark(n+4,r)&&!t.isDark(n+5,r)&&t.isDark(n+6,r)&&(a+=40);for(var C=0,r=0;r<l;r++)for(var n=0;n<l;n++)t.isDark(n,r)&&C++;var x=Math.abs(100*C/l/l-50)/5;return a+=x*10,a}},u={glog:function(t){if(t<1)throw new Error("glog("+t+")");return u.LOG_TABLE[t]},gexp:function(t){for(;t<0;)t+=255;for(;t>=256;)t-=255;return u.EXP_TABLE[t]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},w=0;w<8;w++)u.EXP_TABLE[w]=1<<w;for(var w=8;w<256;w++)u.EXP_TABLE[w]=u.EXP_TABLE[w-4]^u.EXP_TABLE[w-5]^u.EXP_TABLE[w-6]^u.EXP_TABLE[w-8];for(var w=0;w<255;w++)u.LOG_TABLE[u.EXP_TABLE[w]]=w;function N(t,l){if(t.length==null)throw new Error(t.length+"/"+l);for(var a=0;a<t.length&&t[a]==0;)a++;this.num=new Array(t.length-a+l);for(var n=0;n<t.length-a;n++)this.num[n]=t[n+a]}N.prototype={get:function(t){return this.num[t]},getLength:function(){return this.num.length},multiply:function(t){for(var l=new Array(this.getLength()+t.getLength()-1),a=0;a<this.getLength();a++)for(var n=0;n<t.getLength();n++)l[a+n]^=u.gexp(u.glog(this.get(a))+u.glog(t.get(n)));return new N(l,0)},mod:function(t){if(this.getLength()-t.getLength()<0)return this;for(var l=u.glog(this.get(0))-u.glog(t.get(0)),a=new Array(this.getLength()),n=0;n<this.getLength();n++)a[n]=this.get(n);for(var n=0;n<t.getLength();n++)a[n]^=u.gexp(u.glog(t.get(n))+l);return new N(a,0).mod(t)}};function b(t,l){this.totalCount=t,this.dataCount=l}b.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],b.getRSBlocks=function(t,l){var a=b.getRsBlockTable(t,l);if(a==null)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+l);for(var n=a.length/3,r=[],h=0;h<n;h++)for(var g=a[h*3+0],c=a[h*3+1],y=a[h*3+2],E=0;E<g;E++)r.push(new b(c,y));return r},b.getRsBlockTable=function(t,l){switch(l){case V.L:return b.RS_BLOCK_TABLE[(t-1)*4+0];case V.M:return b.RS_BLOCK_TABLE[(t-1)*4+1];case V.Q:return b.RS_BLOCK_TABLE[(t-1)*4+2];case V.H:return b.RS_BLOCK_TABLE[(t-1)*4+3];default:return}};function M(){this.buffer=[],this.length=0}M.prototype={get:function(t){var l=Math.floor(t/8);return(this.buffer[l]>>>7-t%8&1)==1},put:function(t,l){for(var a=0;a<l;a++)this.putBit((t>>>l-a-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(t){var l=Math.floor(this.length/8);this.buffer.length<=l&&this.buffer.push(0),t&&(this.buffer[l]|=128>>>this.length%8),this.length++}};var P=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]];function S(){return typeof CanvasRenderingContext2D<"u"}function D(){var t=!1,l=navigator.userAgent;if(/android/i.test(l)){t=!0;var a=l.toString().match(/android ([0-9]\.[0-9])/i);a&&a[1]&&(t=parseFloat(a[1]))}return t}var f=function(){var t=function(l,a){this._el=l,this._htOption=a};return t.prototype.draw=function(l){var a=this._htOption,n=this._el,r=l.getModuleCount();Math.floor(a.width/r),Math.floor(a.height/r),this.clear();function h(C,x){var A=document.createElementNS("http://www.w3.org/2000/svg",C);for(var U in x)x.hasOwnProperty(U)&&A.setAttribute(U,x[U]);return A}var g=h("svg",{viewBox:"0 0 "+String(r)+" "+String(r),width:"100%",height:"100%",fill:a.colorLight});g.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),n.appendChild(g),g.appendChild(h("rect",{fill:a.colorLight,width:"100%",height:"100%"})),g.appendChild(h("rect",{fill:a.colorDark,width:"1",height:"1",id:"template"}));for(var c=0;c<r;c++)for(var y=0;y<r;y++)if(l.isDark(c,y)){var E=h("use",{x:String(y),y:String(c)});E.setAttributeNS("http://www.w3.org/1999/xlink","href","#template"),g.appendChild(E)}},t.prototype.clear=function(){for(;this._el.hasChildNodes();)this._el.removeChild(this._el.lastChild)},t}(),v=document.documentElement.tagName.toLowerCase()==="svg",B=v?f:S()?function(){function t(){this._elImage.src=this._elCanvas.toDataURL("image/png"),this._elImage.style.display="block",this._elCanvas.style.display="none"}if(this._android&&this._android<=2.1){var l=1/window.devicePixelRatio,a=CanvasRenderingContext2D.prototype.drawImage;CanvasRenderingContext2D.prototype.drawImage=function(h,g,c,y,E,C,x,A,U){if("nodeName"in h&&/img/i.test(h.nodeName))for(var L=arguments.length-1;L>=1;L--)arguments[L]=arguments[L]*l;else typeof A>"u"&&(arguments[1]*=l,arguments[2]*=l,arguments[3]*=l,arguments[4]*=l);a.apply(this,arguments)}}function n(h,g){var c=this;if(c._fFail=g,c._fSuccess=h,c._bSupportDataURI===null){var y=document.createElement("img"),E=function(){c._bSupportDataURI=!1,c._fFail&&c._fFail.call(c)},C=function(){c._bSupportDataURI=!0,c._fSuccess&&c._fSuccess.call(c)};y.onabort=E,y.onerror=E,y.onload=C,y.src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHElEQVQI12P4//8/w38GIAXDIBKE0DHxgljNBAAO9TXL0Y4OHwAAAABJRU5ErkJggg==";return}else c._bSupportDataURI===!0&&c._fSuccess?c._fSuccess.call(c):c._bSupportDataURI===!1&&c._fFail&&c._fFail.call(c)}var r=function(h,g){this._bIsPainted=!1,this._android=D(),this._htOption=g,this._elCanvas=document.createElement("canvas"),this._elCanvas.width=g.width,this._elCanvas.height=g.height,h.appendChild(this._elCanvas),this._el=h,this._oContext=this._elCanvas.getContext("2d"),this._bIsPainted=!1,this._elImage=document.createElement("img"),this._elImage.alt="Scan me!",this._elImage.style.display="none",this._el.appendChild(this._elImage),this._bSupportDataURI=null};return r.prototype.draw=function(h){var g=this._elImage,c=this._oContext,y=this._htOption,E=h.getModuleCount(),C=y.width/E,x=y.height/E,A=Math.round(C),U=Math.round(x);g.style.display="none",this.clear();for(var L=0;L<E;L++)for(var z=0;z<E;z++){var K=h.isDark(L,z),J=z*C,q=L*x;c.strokeStyle=K?y.colorDark:y.colorLight,c.lineWidth=1,c.fillStyle=K?y.colorDark:y.colorLight,c.fillRect(J,q,C,x),c.strokeRect(Math.floor(J)+.5,Math.floor(q)+.5,A,U),c.strokeRect(Math.ceil(J)-.5,Math.ceil(q)-.5,A,U)}this._bIsPainted=!0},r.prototype.makeImage=function(){this._bIsPainted&&n.call(this,t)},r.prototype.isPainted=function(){return this._bIsPainted},r.prototype.clear=function(){this._oContext.clearRect(0,0,this._elCanvas.width,this._elCanvas.height),this._bIsPainted=!1},r.prototype.round=function(h){return h&&Math.floor(h*1e3)/1e3},r}():function(){var t=function(l,a){this._el=l,this._htOption=a};return t.prototype.draw=function(l){for(var a=this._htOption,n=this._el,r=l.getModuleCount(),h=Math.floor(a.width/r),g=Math.floor(a.height/r),c=['<table style="border:0;border-collapse:collapse;">'],y=0;y<r;y++){c.push("<tr>");for(var E=0;E<r;E++)c.push('<td style="border:0;border-collapse:collapse;padding:0;margin:0;width:'+h+"px;height:"+g+"px;background-color:"+(l.isDark(y,E)?a.colorDark:a.colorLight)+';"></td>');c.push("</tr>")}c.push("</table>"),n.innerHTML=c.join("");var C=n.childNodes[0],x=(a.width-C.offsetWidth)/2,A=(a.height-C.offsetHeight)/2;x>0&&A>0&&(C.style.margin=A+"px "+x+"px")},t.prototype.clear=function(){this._el.innerHTML=""},t}();function Bt(t,l){for(var a=1,n=Et(t),r=0,h=P.length;r<=h;r++){var g=0;switch(l){case V.L:g=P[r][0];break;case V.M:g=P[r][1];break;case V.Q:g=P[r][2];break;case V.H:g=P[r][3];break}if(n<=g)break;a++}if(a>P.length)throw new Error("Too long data");return a}function Et(t){var l=encodeURI(t).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return l.length+(l.length!=t?3:0)}return s=function(t,l){if(this._htOption={width:256,height:256,typeNumber:4,colorDark:"#000000",colorLight:"#ffffff",correctLevel:V.H},typeof l=="string"&&(l={text:l}),l)for(var a in l)this._htOption[a]=l[a];typeof t=="string"&&(t=document.getElementById(t)),this._htOption.useSVG&&(B=f),this._android=D(),this._el=t,this._oQRCode=null,this._oDrawing=new B(this._el,this._htOption),this._htOption.text&&this.makeCode(this._htOption.text)},s.prototype.makeCode=function(t){this._oQRCode=new p(Bt(t,this._htOption.correctLevel),this._htOption.correctLevel),this._oQRCode.addData(t),this._oQRCode.make(),this._el.title=t,this._oDrawing.draw(this._oQRCode),this.makeImage()},s.prototype.makeImage=function(){typeof this._oDrawing.makeImage=="function"&&(!this._android||this._android>=3)&&this._oDrawing.makeImage()},s.prototype.clear=function(){this._oDrawing.clear()},s.CorrectLevel=V,s})})(ee);var me=ee.exports;const te=fe(me),pe={name:"JQrcode",props:{text:{type:String,default:" "},width:{type:Number,default:132},height:{type:Number,default:132},colorDark:{type:String,default:"#000"},colorLight:{type:String,default:"#fff"}},data(){return{qrcode:null}},watch:{text:{handler(){this.build()}}},mounted(){this.$nextTick(function(){this.qrcode=new te(this.$refs.qrCodeDiv,{width:this.width,height:this.height,text:this.text,colorDark:this.colorDark,colorLight:this.colorLight,correctLevel:te.CorrectLevel.L})})},methods:{build(){this.qrcode&&this.qrcode.makeCode(this.text)}}},ge={id:"qrcode",ref:"qrCodeDiv",class:"qrcode-container",style:{display:"inline-block"}};function _e(i,o,s,d,p,k){return e.openBlock(),e.createElementBlock("div",null,[e.createElementVNode("div",ge,null,512)])}const G=T(pe,[["render",_e]]);G.install=function(i){i.component(G.name,G)};const ke={name:"JLinkViewer",components:{qrcode:G},directives:{clipboard:Q},props:{url:{type:String,default:""},trigger:{type:String,default:"click"}},setup(){const i=e.getCurrentInstance();return{clipboardSuccess:()=>{i.appContext.config.globalProperties.$message({message:"复制成功",type:"success",duration:1500})}}}},we={style:{"text-align":"center",padding:"10px"}};function ye(i,o,s,d,p,k){const V=e.resolveComponent("el-input"),m=e.resolveComponent("el-button"),_=e.resolveComponent("qrcode"),u=e.resolveComponent("el-popover"),w=e.resolveDirective("clipboard");return e.openBlock(),e.createBlock(u,{class:"j-linkViewer",placement:"bottom",width:"286",trigger:s.trigger},{reference:e.withCtx(()=>[e.renderSlot(i.$slots,"default")]),default:e.withCtx(()=>[e.createVNode(V,{"model-value":s.url,disabled:"",size:"small",style:{width:"200px"}},null,8,["model-value"]),e.withDirectives((e.openBlock(),e.createBlock(m,{size:"small",type:"primary"},{default:e.withCtx(()=>[...o[0]||(o[0]=[e.createTextVNode("复制",-1)])]),_:1})),[[w,s.url,"copy"],[w,d.clipboardSuccess,"success"]]),e.createElementVNode("div",we,[e.createVNode(_,{width:200,height:200,text:s.url},null,8,["text"])])]),_:3},8,["trigger"])}const O=T(ke,[["render",ye]]);O.install=function(i){i.component(O.name,O)},typeof window<"u"&&window.Vue&&window.Vue.component(O.name,O);const Ve={name:"JPositionSelector",props:{mapKey:{type:String,default:""},lng:{type:Number,default:116.397502},lat:{type:Number,default:39.908802},adcode:{type:String,default:""},province:{type:String,default:""},city:{type:String,default:""},district:{type:String,default:""},address:{type:String,default:""}},emits:["update:lng","update:lat","update:province","update:city","update:district","update:adcode","update:address","change"],setup(i,{emit:o}){const s=e.ref(!1),d=e.ref(null),p=e.ref(null),k=e.ref(null),V=e.ref([]),m=e.reactive({center:{height:0,lng:i.lng||116.397502,lat:i.lat||39.908802},detail:{adcode:i.adcode||"",province:i.province||"",city:i.city||"",district:i.district||"",address:i.address||""},searchService:null,suggestService:null,geocoderService:null}),_=()=>{s.value=!0,u()},u=()=>{p.value||w().then(f=>{m.center=new f.LatLng(i.lat||39.908802,i.lng||116.397502),d.value=f,p.value=new f.Map("map",{center:m.center,zoom:15,viewMode:"2D"}),p.value.on("click",M),N(m.center),m.suggestService=new f.service.Suggestion({pageSize:10,regionFix:!1}),m.geocoderService=new f.service.Geocoder})},w=()=>new Promise(f=>{if(typeof window.TMap<"u")return f(window.TMap),!0;window.onMapCallback=function(){f(window.TMap)};let v="https://map.qq.com/api/gljs?v=1.exp&libraries=tools,service&key="+i.mapKey+"&callback=onMapCallback",B=document.createElement("script");B.setAttribute("type","text/javascript"),B.setAttribute("src",v),document.body.appendChild(B)}),N=f=>{k.value=new d.value.MultiMarker({map:p.value,styles:{marker:new d.value.MarkerStyle({width:20,height:30,anchor:{x:10,y:30}})},geometries:[{position:f,id:"centerMarker"}]})},b=()=>{const f=k.value.getGeometryById("centerMarker");Object.assign(f,{position:m.center}),k.value.updateGeometries([f]),V.value=[]},M=f=>{m.center=f.latLng,m.geocoderService.getAddress({location:f.latLng}).then(v=>{m.detail.address=v.result.address,m.detail.province=v.result.ad_info.province,m.detail.city=v.result.ad_info.city,m.detail.district=v.result.ad_info.district,m.detail.adcode=v.result.ad_info.adcode}),b()},P=()=>{if(!m.detail.address){V.value=[];return}m.suggestService.getSuggestions({keyword:m.detail.address,location:p.value.getCenter()}).then(f=>{V.value=f.data})},S=f=>{m.center=f.location,b(),p.value.setCenter(f.location),m.detail.address=f.address,m.detail.province=f.province,m.detail.city=f.city,m.detail.district=f.district,m.detail.adcode=f.adcode},D=()=>{o("update:lng",m.center.lng),o("update:lat",m.center.lat),o("update:province",m.detail.province),o("update:city",m.detail.city),o("update:district",m.detail.district),o("update:adcode",m.detail.adcode),o("update:address",m.detail.address),o("change",{...m.detail,...m.center}),s.value=!1};return{dialogVisible:s,TMap:d,map:p,marker:k,nearPois:V,...e.toRefs(m),showMap:_,init:u,initMap:w,initMaker:N,moveCenter:b,mapClick:M,getSuggestions:P,selectAddress:S,Select:D}}},Ce={class:"j-position-selector"},be={style:{padding:"0px 10px"}},Be={class:"item"},Ee={class:"map"},Ne={id:"map",ref:"container",style:{width:"100%",height:"500px"}},Se={class:"address-search"},xe={key:0,class:"address-list"},Te=["onClick"],De={class:"address-title"},Pe={class:"address-info"},ve={class:"dialog-footer"};function Ae(i,o,s,d,p,k){const V=e.resolveComponent("el-button"),m=e.resolveComponent("el-row"),_=e.resolveComponent("el-col"),u=e.resolveComponent("el-card"),w=e.resolveComponent("el-input"),N=e.resolveComponent("el-dialog");return e.openBlock(),e.createElementBlock("div",Ce,[e.createVNode(u,{shadow:"hover"},{header:e.withCtx(()=>[e.createElementVNode("div",be,[o[6]||(o[6]=e.createElementVNode("span",null,[e.createElementVNode("i",{class:"el-icon-map-location"}),e.createTextVNode(" 地址坐标")],-1)),e.createVNode(V,{style:{float:"right",padding:"10px 0"},type:"text",onClick:d.showMap},{default:e.withCtx(()=>[...o[5]||(o[5]=[e.createTextVNode("选择地址",-1)])]),_:1},8,["onClick"])])]),default:e.withCtx(()=>[e.createElementVNode("div",Be,[e.createVNode(m,null,{default:e.withCtx(()=>[e.createElementVNode("span",null,"地址："+e.toDisplayString(s.address?s.address:"未设置"),1)]),_:1}),e.createVNode(m,{class:"sub-info"},{default:e.withCtx(()=>[e.createVNode(_,{span:12},{default:e.withCtx(()=>[e.createTextVNode("经度："+e.toDisplayString(s.lng),1)]),_:1}),e.createVNode(_,{span:12},{default:e.withCtx(()=>[e.createTextVNode("纬度："+e.toDisplayString(s.lat),1)]),_:1})]),_:1})])]),_:1}),e.createVNode(N,{"custom-class":"j-position-selector-dialog",modelValue:d.dialogVisible,"onUpdate:modelValue":o[4]||(o[4]=b=>d.dialogVisible=b),title:"选择地图",width:"1000px","append-to-body":""},{footer:e.withCtx(()=>[e.createElementVNode("span",ve,[e.createVNode(m,{gutter:10},{default:e.withCtx(()=>[e.createVNode(_,{span:6},{default:e.withCtx(()=>[e.createVNode(w,{disabled:"",modelValue:i.center.lng,"onUpdate:modelValue":o[1]||(o[1]=b=>i.center.lng=b),placeholder:"坐标经度"},{prepend:e.withCtx(()=>[...o[7]||(o[7]=[e.createTextVNode("经度",-1)])]),_:1},8,["modelValue"])]),_:1}),e.createVNode(_,{span:6},{default:e.withCtx(()=>[e.createVNode(w,{disabled:"",modelValue:i.center.lat,"onUpdate:modelValue":o[2]||(o[2]=b=>i.center.lat=b),placeholder:"坐标纬度"},{prepend:e.withCtx(()=>[...o[8]||(o[8]=[e.createTextVNode("纬度",-1)])]),_:1},8,["modelValue"])]),_:1}),e.createVNode(_,{span:12},{default:e.withCtx(()=>[e.createVNode(V,{onClick:o[3]||(o[3]=b=>d.dialogVisible=!1)},{default:e.withCtx(()=>[...o[9]||(o[9]=[e.createTextVNode("取 消",-1)])]),_:1}),e.createVNode(V,{type:"primary",onClick:d.Select},{default:e.withCtx(()=>[...o[10]||(o[10]=[e.createTextVNode("确 定",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1})])]),default:e.withCtx(()=>[e.createElementVNode("div",Ee,[e.createElementVNode("div",Ne,null,512),e.createElementVNode("div",Se,[e.createVNode(w,{modelValue:i.detail.address,"onUpdate:modelValue":o[0]||(o[0]=b=>i.detail.address=b),onInput:d.getSuggestions,placeholder:"请输入地址来直接查找相关位置"},null,8,["modelValue","onInput"])]),d.nearPois.length>0?(e.openBlock(),e.createElementBlock("div",xe,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(d.nearPois,(b,M)=>(e.openBlock(),e.createElementBlock("div",{key:M,class:"items",onClick:P=>d.selectAddress(b)},[e.createElementVNode("div",De,e.toDisplayString(b.title),1),e.createElementVNode("div",Pe,e.toDisplayString(b.address),1)],8,Te))),128))])):e.createCommentVNode("",!0)])]),_:1},8,["modelValue"])])}const F=T(Ve,[["render",Ae]]);F.install=function(i){i.component(F.name,F)},typeof window<"u"&&window.Vue&&window.Vue.component(F.name,F);const Le={name:"JSkuSpec",props:{limit:{type:Number,default:10},isShowCode:{type:Boolean,default:!1},value:{type:Array,default:function(){return[]}},disabled:{type:Boolean,default:!1}},data(){return{addValues:[]}},watch:{value:{handler:function(){this.$emit("update:model",this.value)},deep:!0}},methods:{addSpec(){this.value.length<this.limit&&this.value.push({name:"",value:[]})},delSpec(i){this.value.splice(i,1)},addSpecTag(i){let o=this.addValues[i]||"";if(!o.trim())return;o=o.trim();const s=o.split(/\s+/);let d=this.value[i].value.concat(s);d=Array.from(new Set(d)),this.$set(this.value[i],"value",d),this.clearAddValues(i)},delSpecTag(i,o){this.disabled||this.value[i].value.splice(o,1)},clearAddValues(i){this.$set(this.addValues,i,"")},verify_name(i){return this.value[i].name.trim()===""},verify_value(i){return this.value[i].value.length===0},verify(){var i=!0;return this.value.forEach(o=>{o.name.trim()===""&&(i=!1),o.value.length===0&&(i=!1)}),i}}},Me={class:"jui-sku-container"},Ue={class:"specification"},Re={class:"spec-list"},Ie=["onClick"],Oe={class:"values"},Fe={class:"el-select__tags-text"},He=["onClick"],ze={key:0,class:"item"},Qe={class:"add-spec"},Ge={key:0,class:"example"},Ke=["value"];function Je(i,o,s,d,p,k){const V=e.resolveComponent("el-input"),m=e.resolveComponent("el-button");return e.openBlock(),e.createElementBlock("div",Me,[e.createElementVNode("div",Ue,[e.createElementVNode("ul",Re,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.value,(_,u)=>(e.openBlock(),e.createElementBlock("li",{key:u,class:"item"},[e.createElementVNode("div",{class:e.normalizeClass(["name",{is_error:k.verify_name(u)}])},[e.createVNode(V,{modelValue:_.name,"onUpdate:modelValue":w=>_.name=w,disabled:s.disabled,size:"small",placeholder:"输入产品规格名称"},null,8,["modelValue","onUpdate:modelValue","disabled"]),o[0]||(o[0]=e.createElementVNode("div",{class:"help_info"},"例如:颜色,尺码",-1)),e.withDirectives(e.createElementVNode("i",{class:"icon el-icon-circle-close",onClick:w=>k.delSpec(u)},null,8,Ie),[[e.vShow,!s.disabled]])],2),e.createElementVNode("div",Oe,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(_.value,(w,N)=>(e.openBlock(),e.createElementBlock("span",{key:w,class:"el-tag"},[e.createElementVNode("span",Fe,e.toDisplayString(w),1),e.createElementVNode("i",{class:"el-tag__close el-icon-close",onClick:b=>k.delSpecTag(u,N)},null,8,He)]))),128)),e.createElementVNode("div",{class:e.normalizeClass(["add-attr",{is_error:k.verify_value(u)}])},[e.createVNode(V,{modelValue:p.addValues[u],"onUpdate:modelValue":w=>p.addValues[u]=w,size:"small",placeholder:"多个产品属性以空格隔开",icon:"plus",disabled:s.disabled,onClick:w=>k.addSpecTag(u),onKeyup:e.withKeys(w=>k.addSpecTag(u),["native","enter"])},null,8,["modelValue","onUpdate:modelValue","disabled","onClick","onKeyup"]),o[1]||(o[1]=e.createElementVNode("div",{class:"help_info",style:{float:"none"}},"例如:红色,蓝色,L,M等",-1))],2)])]))),128)),s.value.length<s.limit?(e.openBlock(),e.createElementBlock("li",ze,[e.createElementVNode("div",Qe,[e.createVNode(m,{plain:"",disabled:s.disabled,size:"small",type:"info",onClick:k.addSpec},{default:e.withCtx(()=>[...o[2]||(o[2]=[e.createTextVNode("添加规格项目",-1)])]),_:1},8,["disabled","onClick"])])])):e.createCommentVNode("",!0)])]),s.isShowCode?(e.openBlock(),e.createElementBlock("div",Ge,[e.createElementVNode("textarea",{class:"code-area",value:JSON.stringify(s.value)},null,8,Ke)])):e.createCommentVNode("",!0)])}const X=T(Le,[["render",Je]]);X.install=function(i){i.component(X.name,X)};function Xe(i){return Array.prototype.reduce.call(i,function(o,s){var d=[];return o.forEach(function(p){s.forEach(function(k){d.push(p.concat([k]))})}),d},[[]])}const Ye={name:"JSkuTable",props:{defaultPrice:{type:Number,default:1},isShowCode:{type:Boolean,default:!1},showProductNo:{type:Boolean,default:!0},showProductCost:{type:Boolean,default:!0},showProductStock:{type:Boolean,default:!0},showEnable:{type:Boolean,default:!0},specification:{type:Array,default:function(){return[]}},disabled:{type:Boolean,default:!1},value:{type:Array,default:function(){return[]}}},data(){return{defaultSkuNo:"PRONO_",isSetListShow:!0,batchValue:"",currentType:""}},watch:{specification:{handler(){this.bulidSKUS()},deep:!0,immediate:!0}},methods:{bulidSKUS(){const i=[];this.specification.forEach(d=>{d.value.length>0&&i.push(d.value)});const o=Xe(i),s=[];o.forEach(d=>{if(d.length===0)return;const p=this.getOldOrCreatData(JSON.stringify(d));s.push(p)}),this.value.length=0,this.value.push(...s),this.$emit("input",this.value)},getOldOrCreatData(i){let o={ProductCost:this.defaultPrice,ProductId:0,ProductNo:1,ProductPrice:this.defaultPrice,ProductSpec:i,ProductStock:999,isUse:!0};return this.value.forEach(s=>{s.ProductSpec===i&&(o=s)}),o},getSpecValue(i,o){const s=this.specification[i].value;let d;this.specification[i+1]&&this.specification[i+1].value.length?d=o/this.countSum(i+1):d=o;const p=Math.floor(d%s.length);return p.toString()!=="NaN"?s[p]:""},countSum(i){let o=1;return this.specification.forEach((s,d)=>{d>=i&&s.value.length&&(o*=s.value.length)}),o},showTd(i,o){return this.specification[i]?o%this.countSum(i+1)===0:!1},openBatch(i){this.disabled||(this.currentType=i,this.isSetListShow=!1)},setBatch(){if(typeof this.batchValue=="string"){this.$message({type:"warning",message:"请输入正确的值"});return}this.value.forEach(i=>{i.isUse&&(i[this.currentType]=this.batchValue)}),this.cancelBatch()},cancelBatch(){this.batchValue="",this.currentType="",this.isSetListShow=!0}}},We={class:"jui-sku-container"},je={class:"example"},qe={class:"stock-table el-table el-table--border",cellspacing:"0",cellpadding:"0"},$e={key:0,style:{width:"160px"}},Ze={key:1,style:{width:"160px"}},et={key:2,style:{width:"160px"}},tt={key:3,style:{width:"100px"}},lt={key:0},ot=["rowspan"],at={key:0},nt={key:1},rt={key:2},it={key:3},st={colspan:"8",class:"wh-foot"},dt={key:0,class:"set-list"},ct={key:1,class:"set-form"},ut={key:0,class:"example"},ht=["value"];function ft(i,o,s,d,p,k){const V=e.resolveComponent("el-input-number"),m=e.resolveComponent("el-input"),_=e.resolveComponent("el-switch");return e.openBlock(),e.createElementBlock("div",We,[e.createElementVNode("div",je,[e.createElementVNode("table",qe,[e.createElementVNode("thead",null,[e.createElementVNode("tr",null,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.specification,(u,w)=>(e.openBlock(),e.createElementBlock("th",{key:w},e.toDisplayString(u.name),1))),128)),o[6]||(o[6]=e.createElementVNode("th",{style:{width:"160px"}},"销售价（元）",-1)),s.showProductStock?(e.openBlock(),e.createElementBlock("th",$e,"库存")):e.createCommentVNode("",!0),s.showProductNo?(e.openBlock(),e.createElementBlock("th",Ze,"规格编码")):e.createCommentVNode("",!0),s.showProductCost?(e.openBlock(),e.createElementBlock("th",et,"成本价（元）")):e.createCommentVNode("",!0),s.showEnable?(e.openBlock(),e.createElementBlock("th",tt,"是否启用")):e.createCommentVNode("",!0)])]),s.value.length>0?(e.openBlock(),e.createElementBlock("tbody",lt,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.value,(u,w)=>(e.openBlock(),e.createElementBlock("tr",{key:u.ProductSpec},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.specification,(N,b)=>(e.openBlock(),e.createElementBlock(e.Fragment,null,[k.showTd(b,w)?(e.openBlock(),e.createElementBlock("td",{rowspan:k.countSum(b+1),key:b},e.toDisplayString(k.getSpecValue(b,w)),9,ot)):e.createCommentVNode("",!0)],64))),256)),e.createElementVNode("td",null,[e.createVNode(V,{modelValue:u.ProductPrice,"onUpdate:modelValue":N=>u.ProductPrice=N,modelModifiers:{number:!0},size:"small",min:0,precision:2,placeholder:"输入销售价",disabled:!u.isUse||s.disabled},null,8,["modelValue","onUpdate:modelValue","disabled"])]),s.showProductStock?(e.openBlock(),e.createElementBlock("td",at,[e.createVNode(V,{modelValue:u.ProductStock,"onUpdate:modelValue":N=>u.ProductStock=N,modelModifiers:{number:!0},size:"small",min:0,controls:!1,precision:0,placeholder:"输入库存",disabled:!u.isUse||s.disabled},null,8,["modelValue","onUpdate:modelValue","disabled"])])):e.createCommentVNode("",!0),s.showProductNo?(e.openBlock(),e.createElementBlock("td",nt,[e.createVNode(m,{modelValue:u.ProductNo,"onUpdate:modelValue":N=>u.ProductNo=N,size:"small",type:"text",disabled:!u.isUse||s.disabled,placeholder:"输入商品规格编号"},null,8,["modelValue","onUpdate:modelValue","disabled"])])):e.createCommentVNode("",!0),s.showProductCost?(e.openBlock(),e.createElementBlock("td",rt,[e.createVNode(V,{modelValue:u.ProductCost,"onUpdate:modelValue":N=>u.ProductCost=N,modelModifiers:{number:!0},size:"small",min:0,precision:2,disabled:!u.isUse||s.disabled},null,8,["modelValue","onUpdate:modelValue","disabled"])])):e.createCommentVNode("",!0),s.showEnable?(e.openBlock(),e.createElementBlock("td",it,[e.createVNode(_,{modelValue:u.isUse,"onUpdate:modelValue":N=>u.isUse=N,disabled:s.disabled},null,8,["modelValue","onUpdate:modelValue","disabled"])])):e.createCommentVNode("",!0)]))),128)),e.createElementVNode("tr",null,[e.createElementVNode("td",st,[o[7]||(o[7]=e.createElementVNode("span",{class:"label"},"批量设置：",-1)),p.isSetListShow?(e.openBlock(),e.createElementBlock("div",dt,[e.createElementVNode("span",{class:"set-item",onClick:o[0]||(o[0]=u=>k.openBatch("ProductPrice"))},"销售价"),s.showProductStock?(e.openBlock(),e.createElementBlock("span",{key:0,class:"set-item",onClick:o[1]||(o[1]=u=>k.openBatch("ProductStock"))},"库存")):e.createCommentVNode("",!0),s.showProductCost?(e.openBlock(),e.createElementBlock("span",{key:1,class:"set-item",onClick:o[2]||(o[2]=u=>k.openBatch("ProductCost"))},"成本价")):e.createCommentVNode("",!0)])):(e.openBlock(),e.createElementBlock("div",ct,[e.createVNode(V,{modelValue:p.batchValue,"onUpdate:modelValue":o[3]||(o[3]=u=>p.batchValue=u),modelModifiers:{number:!0},controls:!1,size:"mini",min:0,precision:p.currentType=="ProductStock"?0:2,placeholder:"输入要设置的数量"},null,8,["modelValue","precision"]),e.createElementVNode("i",{class:"set-btn blue el-icon-check",onClick:o[4]||(o[4]=(...u)=>k.setBatch&&k.setBatch(...u))}),e.createElementVNode("i",{class:"set-btn red el-icon-close",onClick:o[5]||(o[5]=(...u)=>k.cancelBatch&&k.cancelBatch(...u))})]))])])])):e.createCommentVNode("",!0)])]),s.isShowCode?(e.openBlock(),e.createElementBlock("div",ut,[e.createElementVNode("textarea",{class:"code-area",value:JSON.stringify(s.value)},null,8,ht)])):e.createCommentVNode("",!0)])}const Y=T(Ye,[["render",ft]]);Y.install=function(i){i.component(Y.name,Y)};const mt={name:"svg-icon",props:{iconClass:{type:String,required:!0},className:{type:String},type:{type:String,default:"icon"}},computed:{iconName(){return`#icon-${this.iconClass}`},svgClass(){return this.className?"svg-"+this.type+" "+this.className:"svg-"+this.type}}},pt=["xlink:href"];function gt(i,o,s,d,p,k){return e.openBlock(),e.createElementBlock("svg",{class:e.normalizeClass(k.svgClass),"aria-hidden":"true"},[e.createElementVNode("use",{"xlink:href":k.iconName},null,8,pt)],2)}const W=T(mt,[["render",gt],["__scopeId","data-v-0b63b260"]]);W.install=function(i){i.component(W.name,W)};const _t={name:"JTitleBar",props:{shadow:{type:Boolean,default:!0},radius:{type:Boolean,default:!1},icon:{type:String,default:"icon"},background:{type:String,default:"#ffffff"},color:{type:String,default:"#00000"}}},kt={class:"left"},wt={class:"center"},yt={class:"right"};function Vt(i,o,s,d,p,k){return e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["j-title-bar",{shadow:s.shadow,radius:s.radius}]),style:e.normalizeStyle({background:s.background,color:s.color})},[e.createElementVNode("span",kt,[e.createElementVNode("span",{class:e.normalizeClass(s.icon)},null,2),e.renderSlot(i.$slots,"default")]),e.createElementVNode("span",wt,[e.renderSlot(i.$slots,"center")]),e.createElementVNode("span",yt,[e.renderSlot(i.$slots,"right")])],6)}const H=T(_t,[["render",Vt]]);H.install=function(i){i.component(H.name,H)},typeof window<"u"&&window.Vue&&window.Vue.component(H.name,H);const Ct="0.3.5",bt=[R,I,Q,O,F,G,X,Y,W,H],j=i=>{if(j.installed)return!1;bt.forEach(o=>{o.install?i.use(o):o.name&&i.component(o.name,o)})};return typeof window<"u"&&window.Vue&&j(window.Vue),{install:j,version:Ct,AdvancedQuery:R,BgSelector:I,Clipboard:Q,LinkViewer:O,PositionSelector:F,Qrcode:G,SkuSpec:X,SkuTable:Y,SvgIcon:W,TitleBar:H}});
